{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '27888525-8999ed18604edf74585499e22';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  const searchParams = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  try {\n    return axios.get('', { params: searchParams });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst getMarkUp = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) =>\n  ` <li class=\"gallery-item\">\n        <div class=\"gallery-thumb\"><a class=\"gallery-link\" href=\"${largeImageURL}\" ><img src=\"${webformatURL}\" alt=\"${tags}\"/></a></div>\n        <div class=\"gallery-info-wrapper\">\n          <div class=\"gallery-info-box\">\n            <span class=\"gallery-info-data\">Likes</span>\n            <span class=\"gallery-info-amount\">${likes}</span>\n          </div>\n          <div class=\"gallery-info-box\">\n            <span class=\"gallery-info-data\">Views</span>\n            <span class=\"gallery-info-amount\">${views}</span>\n          </div>\n          <div class=\"gallery-info-box\">\n            <span class=\"gallery-info-data\">Comments</span>\n            <span class=\"gallery-info-amount\">${comments}</span>\n          </div>\n          <div class=\"gallery-info-box\">\n            <span class=\"gallery-info-data\">Downloads</span>\n            <span class=\"gallery-info-amount\">${downloads}</span>\n          </div>\n        </div>\n      </li>`;\n\nexport const renderMarkUp = items =>\n  items.map(item => getMarkUp(item)).join('');\n\nexport const simpleLightbox = new SimpleLightbox('.gallery-link');\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderMarkUp, simpleLightbox } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallerylist: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  refs.gallerylist.innerHTML = '';\n  refs.loader.classList.add('is-visible');\n\n  const query = e.target.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.error({\n      message: 'Please fill out the request!',\n      position: 'topRight',\n    });\n\n    refs.loader.classList.remove('is-visible');\n    e.target.elements['search-text'].value = '';\n    return;\n  }\n\n  fetchImages(query)\n    .then(({ data: { hits: images } }) => {\n      if (!images.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        refs.loader.classList.remove('is-visible');\n        e.target.elements['search-text'].value = '';\n        return;\n      }\n\n      refs.loader.classList.remove('is-visible');\n      refs.gallerylist.innerHTML = renderMarkUp(images);\n      simpleLightbox.refresh();\n      e.target.elements['search-text'].value = '';\n    })\n    .catch(err => {\n      iziToast.error({});\n    });\n});\n"],"names":["API_KEY","axios","fetchImages","query","searchParams","error","getMarkUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderMarkUp","items","item","simpleLightbox","SimpleLightbox","refs","e","iziToast","images","err"],"mappings":"owBAEA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAcC,GAAS,CAClC,MAAMC,EAAe,CACnB,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,GAAI,CACF,OAAOF,EAAM,IAAI,GAAI,CAAE,OAAQG,CAAY,CAAE,CAC9C,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,EChBMC,EAAY,CAAC,CACjB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACE;AAAA,mEACiEL,CAAa,gBAAgBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAI1EC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRC,CAAS;AAAA;AAAA;AAAA,aAK5CC,EAAeC,GAC1BA,EAAM,IAAIC,GAAQV,EAAUU,CAAI,CAAC,EAAE,KAAK,EAAE,EAE/BC,EAAiB,IAAIC,EAAe,eAAe,EC/B1DC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACxCA,EAAE,eAAc,EAChBD,EAAK,YAAY,UAAY,GAC7BA,EAAK,OAAO,UAAU,IAAI,YAAY,EAEtC,MAAMhB,EAAQiB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAErD,GAAI,CAACjB,EAAO,CACVkB,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAChB,CAAK,EAEDF,EAAK,OAAO,UAAU,OAAO,YAAY,EACzCC,EAAE,OAAO,SAAS,aAAa,EAAE,MAAQ,GACzC,MACD,CAEDlB,EAAYC,CAAK,EACd,KAAK,CAAC,CAAE,KAAM,CAAE,KAAMmB,CAAQ,CAAA,IAAO,CACpC,GAAI,CAACA,EAAO,OAAQ,CAClBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDF,EAAK,OAAO,UAAU,OAAO,YAAY,EACzCC,EAAE,OAAO,SAAS,aAAa,EAAE,MAAQ,GACzC,MACD,CAEDD,EAAK,OAAO,UAAU,OAAO,YAAY,EACzCA,EAAK,YAAY,UAAYL,EAAaQ,CAAM,EAChDL,EAAe,QAAO,EACtBG,EAAE,OAAO,SAAS,aAAa,EAAE,MAAQ,EAC/C,CAAK,EACA,MAAMG,GAAO,CACZF,EAAS,MAAM,CAAA,CAAE,CACvB,CAAK,CACL,CAAC"}